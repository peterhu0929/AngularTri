<h2>台灣地區三鐵比賽</h2>
<div>
  <mat-form-field>
    <input matInput placeholder="區域">
  </mat-form-field>
  <mat-form-field class="standard-width">
    <input matInput placeholder="年月">
  </mat-form-field>

  <mat-form-field>
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    <mat-hint align="end">至少打兩個字</mat-hint>
  </mat-form-field>

  <!-- {{tridata|json}}
<div *ngFor="let i of tridata">
  {{i.name}}
  <div *ngFor="let e of i.event">
    {{e.eventgroup}}{{e.eventname}}
  </div>
</div> -->

  <div>
    <mat-paginator #paginator [length]="totalCount" [pageIndex]="0" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]">
    </mat-paginator>
    <div>
      <table mat-table [dataSource]="tridataTable" matSort #sortTableUser="matSort">
        <ng-container matColumnDef="EDIT_BUTTON">
          <th mat-header-cell *matHeaderCellDef>編輯</th>
          <td mat-cell *matCellDef="let row">
            <button *ngIf=!row.isDisabled mat-mini-fab color="primary" (click)="row.isDisabled=true">
              <span matTooltip="Edit">
                <mat-icon>edit</mat-icon>
              </span>
            </button>
            <button *ngIf=row.isDisabled mat-mini-fab color="warn" (click)="row.isDisabled=false">
              <span matTooltip="Cancel">
                <mat-icon>clear</mat-icon>
              </span>
            </button>
            <button *ngIf=row.isDisabled mat-mini-fab color="primary" (click)="updateSnackbar();row.isDisabled=false">
              <span matTooltip="Confirm">
                <mat-icon>send</mat-icon>
              </span>
            </button>
          </td>
        </ng-container>
        <ng-container matColumnDef="DELETE_BUTTON">
          <th mat-header-cell *matHeaderCellDef>停用</th>
          <td mat-cell *matCellDef="let row">
            <!-- <button mat-mini-fab color="warn" (click)="openCancelDialog(row)" *ngIf="!deleteIcon(row)">
            <mat-icon>delete</mat-icon>
          </button> -->
          </td>
        </ng-container>
        <ng-container matColumnDef="DELETE_YN">
          <th mat-header-cell *matHeaderCellDef>是否中止合約
          </th>
          <td mat-cell *matCellDef="let row" [ngStyle]="{'color':changeColor(row)}">
            <!-- <mat-icon *ngIf="deleteIcon(row)">backspace</mat-icon> -->
          </td>
        </ng-container>
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>date</th>
          <td mat-cell *matCellDef="let row">{{ row.date }}</td>
        </ng-container>
        <ng-container matColumnDef="year">
          <th mat-header-cell *matHeaderCellDef>year</th>
          <td mat-cell *matCellDef="let row">{{ row.year }}</td>
        </ng-container>

        <ng-container matColumnDef="month">
          <th mat-header-cell *matHeaderCellDef>month</th>
          <td mat-cell *matCellDef="let row">{{ row.month }}</td>
        </ng-container>
        <ng-container matColumnDef="day">
          <th mat-header-cell *matHeaderCellDef>day</th>
          <td mat-cell *matCellDef="let row">{{ row.day }}</td>
        </ng-container>
        <ng-container matColumnDef="place">
          <th mat-header-cell *matHeaderCellDef>place</th>
          <td mat-cell *matCellDef="let row">{{ row.place }}</td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>name</th>
          <td mat-cell *matCellDef="let row">{{ row.name }}</td>
        </ng-container>
        <ng-container matColumnDef="RENTED_START_DATE">
          <th mat-header-cell *matHeaderCellDef>租約開始日</th>
          <td mat-cell *matCellDef="let row">
            <mat-form-field class="inputSize">
              <input matInput [matDatepicker]="RENTED_START_DATEpicker" [(ngModel)]="row.RENTED_START_DATE" [disabled]="true">
              <mat-datepicker-toggle matSuffix [for]="RENTED_START_DATEpicker"></mat-datepicker-toggle>
              <mat-datepicker #RENTED_START_DATEpicker></mat-datepicker>
            </mat-form-field>
          </td>
        </ng-container>
        <ng-container matColumnDef="RENTED_END_DATE">
          <th mat-header-cell *matHeaderCellDef>租約到期日</th>
          <td mat-cell *matCellDef="let row">
            <mat-form-field class="inputSize">
              <input matInput [matDatepicker]="RENTED_END_DATEpicker" [(ngModel)]="row.RENTED_END_DATE" [disabled]="true">
              <mat-datepicker-toggle matSuffix [for]="RENTED_END_DATEpicker"></mat-datepicker-toggle>
              <mat-datepicker #RENTED_END_DATEpicker></mat-datepicker>
            </mat-form-field>
          </td>
        </ng-container>
        <ng-container matColumnDef="organizer">
          <th mat-header-cell *matHeaderCellDef>organizer</th>
          <td mat-cell *matCellDef="let row">{{ row.organizer }}</td>
        </ng-container>
        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef>location</th>
          <td mat-cell *matCellDef="let row">{{ row.location }}</td>
        </ng-container>
        <ng-container matColumnDef="locationmap">
          <th mat-header-cell *matHeaderCellDef>locationmap</th>
          <td mat-cell *matCellDef="let row">{{ row.locationmap }}</td>
        </ng-container>
        <ng-container matColumnDef="applydate">
          <th mat-header-cell *matHeaderCellDef>applydate</th>
          <td mat-cell *matCellDef="let row">{{ row.applydate }}</td>
        </ng-container>
        <ng-container matColumnDef="onlineapplyurl">
          <th mat-header-cell *matHeaderCellDef>onlineapplyurl</th>
          <td mat-cell *matCellDef="let row">{{ row.onlineapplyurl }}</td>
        </ng-container>
        <!--
      <ng-container matColumnDef="UNIT_RENT_CAR_SPACE">
        <th mat-header-cell *matHeaderCellDef>每席車位租金單價</th>
        <td mat-cell *matCellDef="let row">{{ row.UNIT_RENT_CAR_SPACE }}</td>
      </ng-container>
      <ng-container matColumnDef="MONTH_RENT_CAR_SPACE">
        <th mat-header-cell *matHeaderCellDef>每月車位租金</th>
        <td mat-cell *matCellDef="let row">{{ row.MONTH_RENT_CAR_SPACE }}</td>
      </ng-container>
      <ng-container matColumnDef="ADJ_RENT_METHOD">
        <th mat-header-cell *matHeaderCellDef>租金調整方式</th>
        <td mat-cell *matCellDef="let row">{{ row.ADJ_RENT_METHOD }}</td>
      </ng-container> -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>status</th>
          <td mat-cell *matCellDef="let row">{{ row.status }}</td>
        </ng-container>

        <ng-container matColumnDef="remark">
          <th mat-header-cell *matHeaderCellDef>remark</th>
          <td mat-cell *matCellDef="let row">{{ row.remark }}</td>
        </ng-container>

        <ng-container matColumnDef="Detail">
          <th mat-header-cell *matHeaderCellDef>細節</th>
          <td mat-cell *matCellDef="let row">
            <button mat-mini-fab color="accent" (click)="openDetailDialog(row.tri_event)">
              <mat-icon>
                assignment
              </mat-icon>
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
